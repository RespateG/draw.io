<mxfile host="app.diagrams.net" modified="2024-07-05T02:45:55.088Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0" etag="L91cmXaICqI8Z7ihxJOJ" version="24.6.4" type="github">
  <diagram name="第 1 页" id="PCkdRjPO7_-sSv6l2gZ-">
    <mxGraphModel dx="5832" dy="1880" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="oMi_tc-Ln19UIqllwzs8-1" value="&lt;span id=&quot;boardmix-data-meta&quot;&gt;&lt;/span&gt;&lt;span id=&quot;boardmix-data-buffer&quot;&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="3210" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-2" value="&lt;span id=&quot;boardmix-data-meta&quot;&gt;&lt;/span&gt;&lt;span id=&quot;boardmix-data-buffer&quot;&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="3030" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-98" target="oMi_tc-Ln19UIqllwzs8-109">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="280" y="3245" as="sourcePoint" />
            <mxPoint x="-40" y="3245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-8" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;strokeWidth=2;shape=mxgraph.arrows2.arrow;dy=0.6;dx=40;notch=0;" vertex="1" parent="1">
          <mxGeometry x="-700" y="3237.5" width="130" height="15" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-15" target="oMi_tc-Ln19UIqllwzs8-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-18" value="&lt;font color=&quot;#ff3333&quot;&gt;platform&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];spacingLeft=8;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;fillColor=none;gradientColor=none;" vertex="1" connectable="0" parent="oMi_tc-Ln19UIqllwzs8-17">
          <mxGeometry x="-0.0724" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-15" target="oMi_tc-Ln19UIqllwzs8-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-210" y="2469.7241379310344" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-23" value="device" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];spacingLeft=8;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;fillColor=none;gradientColor=none;" vertex="1" connectable="0" parent="oMi_tc-Ln19UIqllwzs8-19">
          <mxGeometry x="-0.6818" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-15" value="udc-dts" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontSize=24;fontColor=default;labelBorderColor=none;labelBackgroundColor=default;fillColor=none;gradientColor=none;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="-470" y="2450" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-16" target="oMi_tc-Ln19UIqllwzs8-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-22" value="&lt;font color=&quot;#ff3333&quot;&gt;prob&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];spacingLeft=8;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;fillColor=none;gradientColor=none;" vertex="1" connectable="0" parent="oMi_tc-Ln19UIqllwzs8-21">
          <mxGeometry x="0.5879" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-24" value="driver" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];spacingLeft=8;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;fillColor=none;gradientColor=none;" vertex="1" connectable="0" parent="oMi_tc-Ln19UIqllwzs8-21">
          <mxGeometry x="-0.6431" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-16" value="udc" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontSize=24;fontColor=default;labelBorderColor=none;labelBackgroundColor=default;fillColor=none;gradientColor=none;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="-470" y="2570" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-20" target="oMi_tc-Ln19UIqllwzs8-91">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-20" value="&lt;div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;crg_udc_probe&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;spacingLeft=8;fontFamily=Tahoma;fontSize=24;fontColor=#33001A;labelBorderColor=none;labelBackgroundColor=default;fillColor=none;gradientColor=none;horizontal=1;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-210" y="2520" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-25" target="oMi_tc-Ln19UIqllwzs8-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-600" y="2780" />
              <mxPoint x="-600" y="2590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-25" value="&lt;div style=&quot;color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;static&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; platform_driver crg_udc_driver = {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .probe = crg_udc_probe,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .remove = crg_udc_remove,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .shutdown = crg_udc_shutdown,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .driver &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .name &amp;nbsp; &amp;nbsp; &amp;nbsp; = &lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;crg_udc&quot;&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .owner &amp;nbsp; &amp;nbsp; &amp;nbsp;= THIS_MODULE,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .pm &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = &amp;amp;crg_udc_pm_ops,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .of_match_table = &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;of_match_ptr&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(of_crg_udc_match),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;crg_gadget_init&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;    // 注册为平台驱动&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;platform_driver_register&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;crg_udc_driver);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;textShadow=0;" vertex="1" parent="1">
          <mxGeometry x="-1130" y="2460" width="450" height="320" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-62" value="&lt;div style=&quot;color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;static&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;crg_udc_probe&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; platform_device *&lt;/span&gt;&lt;span style=&quot;color: #7f7f7f;&quot;&gt;pdev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;crg_udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;ops&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = &amp;amp;crg_gadget_ops;&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; &amp;nbsp;// gadget ops&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;crg_udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;ep0&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = &amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;crg_udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc_ep&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;].&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;usb_ep&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; &amp;nbsp; // 初始化ep0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;INIT_LIST_HEAD&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;crg_udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;ep_list&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;);&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 初始化ep链表&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;&amp;nbsp; &amp;nbsp; /* 注册 udc 到 udc_list*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;usb_add_gadget_udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;pdev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;, &amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;crg_udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="-470" y="2210" width="560" height="190" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-52" value="udc_list" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=0;strokeColor=default;fontSize=16;align=center;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontColor=default;labelBorderColor=none;labelBackgroundColor=default;fillColor=none;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="1010" y="2900" width="90" height="120" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-53" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=16;align=left;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="oMi_tc-Ln19UIqllwzs8-52">
          <mxGeometry y="30" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-54" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;strokeColor=inherit;fontSize=16;align=left;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="oMi_tc-Ln19UIqllwzs8-53">
          <mxGeometry width="20" height="30" as="geometry">
            <mxRectangle width="20" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-55" value="EP0" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=16;verticalAlign=middle;fontFamily=Helvetica;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="oMi_tc-Ln19UIqllwzs8-53">
          <mxGeometry x="20" width="70" height="30" as="geometry">
            <mxRectangle width="70" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-56" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=16;align=left;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="oMi_tc-Ln19UIqllwzs8-52">
          <mxGeometry y="60" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-57" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=16;align=left;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="oMi_tc-Ln19UIqllwzs8-56">
          <mxGeometry width="20" height="30" as="geometry">
            <mxRectangle width="20" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-58" value="EP1" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=16;verticalAlign=middle;fontFamily=Helvetica;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="oMi_tc-Ln19UIqllwzs8-56">
          <mxGeometry x="20" width="70" height="30" as="geometry">
            <mxRectangle width="70" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-59" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;strokeColor=inherit;fontSize=16;align=left;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="oMi_tc-Ln19UIqllwzs8-52">
          <mxGeometry y="90" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-60" value="" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;strokeColor=inherit;fontSize=16;align=left;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="oMi_tc-Ln19UIqllwzs8-59">
          <mxGeometry width="20" height="30" as="geometry">
            <mxRectangle width="20" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-61" value="EP..." style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;strokeColor=inherit;fontSize=16;verticalAlign=middle;fontFamily=Helvetica;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="oMi_tc-Ln19UIqllwzs8-59">
          <mxGeometry x="20" width="70" height="30" as="geometry">
            <mxRectangle width="70" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-69" value="" style="curved=1;endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-25" target="oMi_tc-Ln19UIqllwzs8-62">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-690" y="2320" as="sourcePoint" />
            <mxPoint x="-640" y="2270" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-640" y="2320" />
              <mxPoint x="-580" y="2290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-70" value="" style="shape=doubleArrow;direction=south;whiteSpace=wrap;html=1;align=left;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;fillColor=none;gradientColor=none;arrowWidth=0.11110885054977568;arrowSize=0.3088887532552087;" vertex="1" parent="1">
          <mxGeometry x="-155" y="2390" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-82" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.bendDoubleArrow;dy=15;dx=38;arrowHead=54.37;rounded=0;spacingLeft=8;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;fillColor=none;gradientColor=none;rotation=-90;" vertex="1" parent="1">
          <mxGeometry x="3960" y="-6.56" width="165.63" height="178.75" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-83" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.bendDoubleArrow;dy=15;dx=38;arrowHead=54.37;rounded=0;spacingLeft=8;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;fillColor=none;gradientColor=none;rotation=90;" vertex="1" parent="1">
          <mxGeometry x="-2470" y="4497" width="165.63" height="178.75" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-84" target="oMi_tc-Ln19UIqllwzs8-52">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1025" y="2020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-88" value="list_add" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];spacingLeft=8;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=none;labelBackgroundColor=default;fillColor=none;gradientColor=none;" vertex="1" connectable="0" parent="oMi_tc-Ln19UIqllwzs8-87">
          <mxGeometry x="-0.1242" y="-3" relative="1" as="geometry">
            <mxPoint x="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-84" value="&lt;div style=&quot;color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;usb_add_gadget_udc_release&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; device *&lt;/span&gt;&lt;span style=&quot;color: #7f7f7f;&quot;&gt;parent&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; usb_gadget *&lt;/span&gt;&lt;span style=&quot;color: #7f7f7f;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; (*release)(&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; device *dev))&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; usb_udc &amp;nbsp; &amp;nbsp; &amp;nbsp;*udc;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev_set_name&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;gadget&quot;&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;INIT_WORK&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;work&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;, usb_gadget_state_work);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;parent&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = parent;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; (release)&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; // 设置release函数&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;release&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = release;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;else&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;release&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = usb_udc_nop_release;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;// 申请udc &amp;amp;&amp;amp; 初始化&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; udc = &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;kzalloc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;sizeof&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(*udc), GFP_KERNEL);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;device_initialize&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;release&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = usb_udc_release;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = udc_class;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;groups&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = usb_udc_attr_groups;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;parent&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = parent;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; ret = &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev_set_name&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;%s&quot;&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;kobject_name&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;parent&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;kobj&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;));&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;// 相互指向&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = gadget;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;gadget&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = udc;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;// 将udc 添加到 udc_list&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;list_add_tail&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;list&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;, &amp;amp;udc_list);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;usb_gadget_set_state&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(gadget, USB_STATE_NOTATTACHED);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;vbus&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; = &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="200" y="2230" width="620" height="620" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-91" target="oMi_tc-Ln19UIqllwzs8-94">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-91" value="&lt;div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;usb_add_gadget_udc&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;spacingLeft=8;fontFamily=Tahoma;fontSize=24;fontColor=#33001A;labelBorderColor=none;labelBackgroundColor=default;fillColor=none;gradientColor=none;horizontal=1;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-235" y="2610" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-94" target="oMi_tc-Ln19UIqllwzs8-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-94" value="&lt;div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;font-size: 14px; line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;usb_add_gadget_udc_release&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;spacingLeft=8;fontFamily=Tahoma;fontSize=24;fontColor=#33001A;labelBorderColor=none;labelBackgroundColor=default;fillColor=none;gradientColor=none;horizontal=1;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-276" y="2700" width="252" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-97" value="&lt;div style=&quot;color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;/* 存储设备 */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;static&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; usb_composite_driver msg_driver = {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .name &amp;nbsp; &amp;nbsp; &amp;nbsp; = &lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;g_mass_storage&quot;&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .dev &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;= &amp;amp;msg_device_desc,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .max_speed &amp;nbsp;= USB_SPEED_SUPER_PLUS,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .needs_serial &amp;nbsp; = &lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .strings &amp;nbsp; &amp;nbsp;= dev_strings,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .bind &amp;nbsp; &amp;nbsp; &amp;nbsp; = msg_bind,&lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt; /* 绑定函数 */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; .unbind &amp;nbsp; &amp;nbsp; = msg_unbind,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;static&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; __init &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;msg_init&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;usb_composite_probe&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;msg_driver);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="-1070" y="3100" width="380" height="290" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-98" value="&lt;div style=&quot;color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;usb_composite_probe&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; usb_composite_driver *&lt;/span&gt;&lt;span style=&quot;color: #7f7f7f;&quot;&gt;driver&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;) &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; -&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;usb_gadget_probe_driver&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(gadget_driver);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="-565" y="3218.75" width="475" height="52.5" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-100" target="oMi_tc-Ln19UIqllwzs8-101">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1460" y="3400" />
              <mxPoint x="-1420" y="3400" />
              <mxPoint x="-1420" y="3485" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-100" target="oMi_tc-Ln19UIqllwzs8-102">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1420" y="3400" />
              <mxPoint x="-1420" y="3620" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-100" value="添加function" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontSize=24;fontColor=default;labelBorderColor=none;labelBackgroundColor=default;fillColor=none;gradientColor=none;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="-1670" y="3380" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-101" target="oMi_tc-Ln19UIqllwzs8-97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-101" value="legacy" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontSize=24;fontColor=default;labelBorderColor=none;labelBackgroundColor=default;fillColor=none;gradientColor=none;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="-1360" y="3225" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-102" value="configfs" style="whiteSpace=wrap;html=1;align=center;verticalAlign=middle;spacingLeft=8;fontFamily=Helvetica;fontSize=24;fontColor=default;labelBorderColor=none;labelBackgroundColor=default;fillColor=none;gradientColor=none;horizontal=1;" vertex="1" parent="1">
          <mxGeometry x="-1350" y="3600" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-109" value="&lt;div style=&quot;color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;usb_gadget_probe_driver&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;struct&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; usb_gadget_driver *&lt;/span&gt;&lt;span style=&quot;color: #7f7f7f;&quot;&gt;driver&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;driver&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc_name&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;//遍历udc_list&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;list_for_each_entry&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(udc, &amp;amp;udc_list, list) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;// 通过名称匹配&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ret = &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;strcmp&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;driver&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc_name&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev_name&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;dev&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; (!ret)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;break&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; ret = &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;udc_bind_to_driver&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;(udc, driver);&lt;/span&gt; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// 绑定udc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="-20" y="3110" width="470" height="270" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-56" target="oMi_tc-Ln19UIqllwzs8-109">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-111" value="遍历udc list链表" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];spacingLeft=8;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;fillColor=none;gradientColor=none;" vertex="1" connectable="0" parent="oMi_tc-Ln19UIqllwzs8-110">
          <mxGeometry x="-0.0143" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" edge="1" parent="1" source="oMi_tc-Ln19UIqllwzs8-113" target="oMi_tc-Ln19UIqllwzs8-15">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-600" y="2325" />
              <mxPoint x="-600" y="2470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="oMi_tc-Ln19UIqllwzs8-113" value="&lt;div style=&quot;color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;crg20_otg&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: #c8c8c8;&quot;&gt;crg20otg@fe03a000&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; compatible = &lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;xxx, xxx-crg-otg-v2&quot;&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; status = &lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;disabled&quot;&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; usb2-phy-reg = &amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;0xfe03a000&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; usb2-phy-reg-size = &amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;0x80&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; usb3-phy-reg = &amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;0xfe03a080&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; usb3-phy-reg-size = &amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;0x20&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; interrupts = &amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;129&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;IRQ_TYPE_EDGE_RISING&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;nbsp; &amp;nbsp; regulator = &amp;lt;&lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;&amp;gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;labelBorderColor=default;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="-1110" y="2220" width="370" height="210" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
